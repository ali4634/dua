<!DOCTYPE html>
<html lang="ur" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#3498db"/>
    <link rel="manifest" href="manifest.json">
    <title>روزمرہ دعائیں ایپ</title>
    <style>
        body { font-family: sans-serif; background-color: #f5f5f5; margin: 0; padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; background-color: white; padding: 20px; }
        .dua-item { padding: 10px; border: 2px solid #2ecc71; margin-bottom: 10px; border-radius: 5px; }
        #debug-info { position: fixed; top: 0; left: 0; right: 0; background-color: #ffc107; padding: 10px; z-index: 9999; }
    </style>
</head>
<body>
    <div id="debug-info">اسٹیٹس: ایپ شروع ہو رہی ہے...</div>
    <div class="container">
        <h1>📿 دعاؤں کی سادہ فہرست (ٹیسٹ)</h1>
        <div id="duas-container">
            <p>اگر آپ کو یہ نظر آ رہا ہے اور دعائیں نہیں، تو renderDuas نہیں چلا۔</p>
        </div>
    </div>

    <script>
        const debugInfo = document.getElementById('debug-info');
        function logToScreen(message) {
            if(debugInfo) debugInfo.innerHTML += `<br>${message}`;
        }

        try {
            logToScreen("اسکرپٹ شروع ہوا۔");

            const duasContainer = document.getElementById('duas-container');
            if (!duasContainer) {
                logToScreen("!!! خرابی: duas-container نہیں ملا!");
            } else {
                logToScreen("duas-container مل گیا۔");
            }
            
            const duas = [
                {id: 1, title: "کھانا شروع کرنے کی دعا"}, {id: 2, title: "کھانا ختم کرنے کی دعا"}, {id: 3, title: "سونے کی دعا"}, {id: 4, title: "جاگنے کی دعا"}, {id: 5, title: "بیت الخلاء جانے کی دعا"}, {id: 6, title: "بیت الخلاء سے نکلنے کی دعا"}, {id: 7, title: "گھر میں داخل ہونے کی دعا"}, {id: 8, title: "گھر سے نکلنے کی دعا"}, {id: 9, title: "مسجد میں داخل ہونے کی دعا"}, {id: 10, title: "مسجد سے نکلنے کی دعا"}, {id: 11, title: "سواری پر بیٹھنے کی دعا"}, {id: 12, title: "سواری سے اترنے کی دعا"}, {id: 13, title: "مصیبت کے وقت کی دعا"}, {id: 14, title: "لباس پہننے کی دعا"}, {id: 15, title: "مریض کی عیادت کی دعا"}, {id: 16, title: "دودھ پینے کی دعا"}, {id: 17, title: "چاند دیکھنے کی دعا"}, {id: 18, title: "آئینہ دیکھنے کی دعا"}, {id: 19, title: "روزہ رکھنے کی دعا"}, {id: 20, title: "روزہ افطار کرنے کی دعا"}
            ];
            logToScreen(`دعاؤں کا ڈیٹا ملا: ${duas.length} دعائیں۔`);

            // === بالکل سادہ renderDuas فنکشن ===
            function renderDuas() {
                logToScreen("سادہ renderDuas چل رہا ہے۔");
                if (!duasContainer) return; // اگر کنٹینر نہ ہو تو رُک جاؤ
                
                duasContainer.innerHTML = ''; // کنٹینر کو خالی کرو

                if (!duas || duas.length === 0) {
                    logToScreen("کوئی دعا نہیں ملی۔");
                    duasContainer.innerHTML = '<p>دعاؤں کا ڈیٹا خالی ہے۔</p>';
                    return;
                }

                duas.forEach(dua => {
                    const duaElement = document.createElement('div');
                    duaElement.className = 'dua-item';
                    duaElement.textContent = dua.title;
                    duasContainer.appendChild(duaElement);
                });
                logToScreen("سادہ renderDuas مکمل ہوا۔ اب دعائیں نظر آنی چاہئیں۔");
            }

            logToScreen("ایپ کو شروع کیا جا رہا ہے...");
            renderDuas();
            logToScreen("ایپ کامیابی سے شروع ہو گئی۔");

        } catch (error) {
            logToScreen(`!!! ایک بہت بڑی خرابی واقع ہوئی: ${error.message}`);
        }
    </script>
    
    <script>
        // سروس ورکر کا کوڈ ویسے ہی رہے گا
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js').catch(err => console.error(err));
            });
        }
    </script>
</body>
</html>
